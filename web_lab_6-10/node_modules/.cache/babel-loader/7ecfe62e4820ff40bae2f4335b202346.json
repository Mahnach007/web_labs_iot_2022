{"ast":null,"code":"var _jsxFileName = \"/Users/Vlad/second-app/src/components/structure/Cataloge/CatalogePage.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState, useEffect } from \"react\";\nimport Box from \"@mui/system/Box\";\nimport Grid from \"@mui/material/Grid\";\nimport FilmCard from \"./components/reusable/FilmCard\";\nimport { centeredContainer } from \"./components/styles\";\nimport Typography from \"@mui/material/Typography\";\nimport { FilterBlock } from \"/Users/Vlad/second-app/src/components/structure/Cataloge/FilterBlock.js\";\n//import { ItemsContext } from \"./components/ItemsContextProvider\";\nimport { FiltersContext } from \"/Users/Vlad/second-app/src/components/Filter/FilterWork.js\";\n//import { SearchBlockContext } from \"./components/navigation-bar/SearchBlockContextProvider\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst applyFilters = () => {\n  setFilmsToShow(filmsData);\n  let filtered = [...filmsData];\n  if (filtersData.PRICE_FILTER !== -1) {\n    const [minVal, maxVal] = priceFilterCases[filtersData.PRICE_FILTER];\n    filtered = filtered.filter(film => film.price >= minVal && film.price <= maxVal);\n  }\n  if (filtersData.REVIEWS_FILTER !== -1) {\n    const [minVal, maxVal] = reviewsFilterCases[filtersData.REVIEWS_FILTER];\n    filtered = filtered.filter(film => film.reviewsAmount >= minVal && film.reviewsAmount <= maxVal);\n  }\n  if (filtersData.LENGTH_FILTER !== -1) {\n    const [minVal, maxVal] = lengthFilterCases[filtersData.LENGTH_FILTER];\n    filtered = filtered.filter(film => film.lengthOfFilm >= minVal && film.lengthOfFilm <= maxVal);\n  }\n  setFilmsToShow(filtered);\n};\nconst discardFilters = () => {\n  setFilmsToShow(filmsData);\n};\nuseEffect(() => {\n  setFilmsToShow(filmsData);\n  applyFilters();\n  setFilmsToShow(currFilms => currFilms.filter(film => film.filmTitle.includes(searchBlockText)));\n}, [searchBlockText]);\nconst Catalog = () => {\n  _s();\n  const [filmsData, setFilmsData] = useContext(ItemsContext);\n  const [filtersData, setFiltersData] = useContext(FiltersContext);\n  const [searchBlockText, setSearchBlockText] = useContext(SearchBlockContext);\n  const [filmsToShow, setFilmsToShow] = useState(filmsData);\n  const priceFilterCases = [[0, 100], [101, 1000], [1001, 10000], [10001, 1000000]];\n  const reviewsFilterCases = [[0, 100], [101, 1000], [1001, 10000], [10001, 1000000]];\n  const lengthFilterCases = [[0, 60], [61, 120], [121, 180], [180, 1200]];\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        ...centeredContainer,\n        pt: 1\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        mb: \"5px\",\n        children: \"Filters\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        sx: {\n          mb: 5\n        },\n        children: /*#__PURE__*/_jsxDEV(FilterBlock, {\n          applyFilters: applyFilters,\n          discardFilters: discardFilters\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        mb: \"10px\",\n        children: \"Catalog\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 4,\n        sx: {\n          justifyContent: \"left\"\n        },\n        children: filmsToShow.map((record, id) => /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          children: /*#__PURE__*/_jsxDEV(FilmCard, {\n            imgSrc: record.imgSrc,\n            imgAlt: record.imgSrc,\n            filmTitle: record.filmTitle,\n            description: record.description,\n            price: record.price\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 29\n          }, this)\n        }, record.filmTitle + id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n_s(Catalog, \"l1htla06vBNZpnn21rCgE6piEJ0=\");\n_c = Catalog;\nexport default Catalog;\nvar _c;\n$RefreshReg$(_c, \"Catalog\");","map":{"version":3,"names":["React","useContext","useState","useEffect","Box","Grid","FilmCard","centeredContainer","Typography","FilterBlock","FiltersContext","applyFilters","setFilmsToShow","filmsData","filtered","filtersData","PRICE_FILTER","minVal","maxVal","priceFilterCases","filter","film","price","REVIEWS_FILTER","reviewsFilterCases","reviewsAmount","LENGTH_FILTER","lengthFilterCases","lengthOfFilm","discardFilters","currFilms","filmTitle","includes","searchBlockText","Catalog","setFilmsData","ItemsContext","setFiltersData","setSearchBlockText","SearchBlockContext","filmsToShow","pt","mb","justifyContent","map","record","id","imgSrc","description"],"sources":["/Users/Vlad/second-app/src/components/structure/Cataloge/CatalogePage.js"],"sourcesContent":["import React, { useContext, useState, useEffect } from \"react\";\nimport Box from \"@mui/system/Box\";\nimport Grid from \"@mui/material/Grid\";\nimport FilmCard from \"./components/reusable/FilmCard\";\nimport { centeredContainer } from \"./components/styles\";\nimport Typography from \"@mui/material/Typography\";\nimport { FilterBlock } from \"/Users/Vlad/second-app/src/components/structure/Cataloge/FilterBlock.js\";\n//import { ItemsContext } from \"./components/ItemsContextProvider\";\nimport { FiltersContext } from \"/Users/Vlad/second-app/src/components/Filter/FilterWork.js\";\n//import { SearchBlockContext } from \"./components/navigation-bar/SearchBlockContextProvider\";\n\n\n\n    const applyFilters = () => {\n        setFilmsToShow(filmsData);\n        let filtered = [...filmsData];\n        if (filtersData.PRICE_FILTER !== -1) {\n            const [minVal, maxVal] = priceFilterCases[filtersData.PRICE_FILTER];\n            filtered = filtered.filter(\n                (film) => film.price >= minVal && film.price <= maxVal\n            );\n        }\n        if (filtersData.REVIEWS_FILTER !== -1) {\n            const [minVal, maxVal] = reviewsFilterCases[filtersData.REVIEWS_FILTER];\n            filtered = filtered.filter(\n                (film) => film.reviewsAmount >= minVal && film.reviewsAmount <= maxVal\n            );\n        }\n        if (filtersData.LENGTH_FILTER !== -1) {\n            const [minVal, maxVal] = lengthFilterCases[filtersData.LENGTH_FILTER];\n            filtered = filtered.filter(\n                (film) => film.lengthOfFilm >= minVal && film.lengthOfFilm <= maxVal\n            );\n        }\n        setFilmsToShow(filtered);\n    };\n\n    const discardFilters = () => {\n        setFilmsToShow(filmsData);\n    };\n\n    useEffect(() => {\n        setFilmsToShow(filmsData);\n        applyFilters();\n        setFilmsToShow(currFilms => (currFilms.filter(film => film.filmTitle.includes(searchBlockText))))\n    }, [searchBlockText]);\n\n    const Catalog = () => {\n        const [filmsData, setFilmsData] = useContext(ItemsContext);\n        const [filtersData, setFiltersData] = useContext(FiltersContext);\n        const [searchBlockText, setSearchBlockText] = useContext(SearchBlockContext);\n        const [filmsToShow, setFilmsToShow] = useState(filmsData);\n    \n        const priceFilterCases = [\n            [0, 100],\n            [101, 1000],\n            [1001, 10000],\n            [10001, 1000000],\n        ];\n    \n        const reviewsFilterCases = [\n            [0, 100],\n            [101, 1000],\n            [1001, 10000],\n            [10001, 1000000],\n        ];\n    \n        const lengthFilterCases = [\n            [0, 60],\n            [61, 120],\n            [121, 180],\n            [180, 1200],\n        ];\n\n    return (\n        <>\n            <Box sx={{ ...centeredContainer, pt: 1 }}>\n                <Typography variant=\"h5\" mb=\"5px\">\n                    Filters\n                </Typography>\n                <Grid container sx={{ mb: 5 }}>\n                    <FilterBlock\n                        applyFilters={applyFilters}\n                        discardFilters={discardFilters}\n                    />\n                </Grid>\n                <Typography variant=\"h5\" mb=\"10px\">\n                    Catalog\n                </Typography>\n                <Grid container spacing={4} sx={{ justifyContent: \"left\" }}>\n                    {filmsToShow.map((record, id) => (\n                        <Grid item key={record.filmTitle + id}>\n                            <FilmCard\n                                imgSrc={record.imgSrc}\n                                imgAlt={record.imgSrc}\n                                filmTitle={record.filmTitle}\n                                description={record.description}\n                                price={record.price}\n                            />\n                        </Grid>\n                    ))}\n                </Grid>\n            </Box>\n        </>\n    );\n};\n\nexport default Catalog;"],"mappings":"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"},"metadata":{},"sourceType":"module"}