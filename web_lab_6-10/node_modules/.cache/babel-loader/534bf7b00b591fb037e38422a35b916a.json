{"ast":null,"code":"import _objectSpread from \"/Users/Vlad/second-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _toConsumableArray from \"/Users/Vlad/second-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/Users/Vlad/second-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"/Users/Vlad/second-app/src/components/structure/Cataloge/CatalogePage.js\";\nimport React, { useContext, useState, useEffect } from \"react\";\nimport Box from \"@mui/system/Box\";\nimport Grid from \"@mui/material/Grid\";\nimport AnimalCard from \"/Users/Vlad/second-app/src/components/reusable/AnimalCard.js\";\nimport { centeredContainer } from \"/Users/Vlad/second-app/src/components/styles.js\";\nimport Typography from \"@mui/material/Typography\";\nimport { FilterBlock } from \"/Users/Vlad/second-app/src/components/structure/Cataloge/FilterBlock.js\";\nimport { ItemsContext } from \"/Users/Vlad/second-app/src/components/structure/Item/ItemsContextProvider.js\";\nimport { FiltersContext } from \"/Users/Vlad/second-app/src/components/Filter/FilterWork.js\";\nimport { SearchBlockContext } from \"/Users/Vlad/second-app/src/components/structure/navigation-bar/SearchBlockContextProvider.js\";\nvar Catalog = function Catalog() {\n  var _useContext = useContext(ItemsContext),\n    _useContext2 = _slicedToArray(_useContext, 1),\n    animalsData = _useContext2[0];\n  var _useContext3 = useContext(FiltersContext),\n    _useContext4 = _slicedToArray(_useContext3, 1),\n    filtersData = _useContext4[0];\n  var _useContext5 = useContext(SearchBlockContext),\n    _useContext6 = _slicedToArray(_useContext5, 1),\n    searchBlockText = _useContext6[0];\n  var _useState = useState(animalsData),\n    _useState2 = _slicedToArray(_useState, 2),\n    animalsToShow = _useState2[0],\n    setAnimalsToShow = _useState2[1];\n  var priceFilterCases = [[0, 100], [101, 1000], [1001, 10000], [10001, 1000000]];\n  var applyFilters = function applyFilters() {\n    setAnimalsToShow(animalsData);\n    var filtered = _toConsumableArray(animalsData);\n    if (filtersData.PRICE_FILTER !== -1) {\n      var _priceFilterCases$fil = _slicedToArray(priceFilterCases[filtersData.PRICE_FILTER], 2),\n        minVal = _priceFilterCases$fil[0],\n        maxVal = _priceFilterCases$fil[1];\n      filtered = filtered.filter(function (animal) {\n        return animal.price >= minVal && animal.price <= maxVal;\n      });\n    }\n    setAnimalsToShow(filtered);\n  };\n  var discardFilters = function discardFilters() {\n    setAnimalsToShow(animalsData);\n  };\n  useEffect(function () {\n    setAnimalsToShow(animalsData);\n    applyFilters();\n    setAnimalsToShow(function (currAnimal) {\n      return currAnimal.filter(function (animal) {\n        return animal.animalTitle.includes(searchBlockText);\n      });\n    });\n  }, [searchBlockText]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Box, {\n    sx: _objectSpread({}, centeredContainer, {\n      pt: 1,\n      bgcolor: \"#75CE9F\"\n    }),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h5\",\n    mb: \"5px\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }\n  }, \"Filters\"), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    sx: {\n      mb: 5\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(FilterBlock, {\n    applyFilters: applyFilters,\n    discardFilters: discardFilters,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h5\",\n    mb: \"10px\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }, \"Catalog\"), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 4,\n    sx: {\n      justifyContent: \"left\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, animalsToShow.map(function (record, id) {\n    return /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      key: record.animalTitle + id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(AnimalCard, {\n      imgSrc: record.imgSrc,\n      imgAlt: record.imgSrc,\n      animalTitle: record.animalTitle,\n      description: record.description,\n      price: record.price,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 29\n      }\n    }));\n  }))));\n};\nexport default Catalog;","map":{"version":3,"names":["React","useContext","useState","useEffect","Box","Grid","AnimalCard","centeredContainer","Typography","FilterBlock","ItemsContext","FiltersContext","SearchBlockContext","Catalog","animalsData","filtersData","searchBlockText","animalsToShow","setAnimalsToShow","priceFilterCases","applyFilters","filtered","PRICE_FILTER","minVal","maxVal","filter","animal","price","discardFilters","currAnimal","animalTitle","includes","pt","bgcolor","mb","justifyContent","map","record","id","imgSrc","description"],"sources":["/Users/Vlad/second-app/src/components/structure/Cataloge/CatalogePage.js"],"sourcesContent":["import React, { useContext, useState, useEffect } from \"react\";\nimport Box from \"@mui/system/Box\";\nimport Grid from \"@mui/material/Grid\";\nimport AnimalCard from \"/Users/Vlad/second-app/src/components/reusable/AnimalCard.js\";\nimport { centeredContainer } from \"/Users/Vlad/second-app/src/components/styles.js\";\nimport Typography from \"@mui/material/Typography\";\nimport { FilterBlock } from \"/Users/Vlad/second-app/src/components/structure/Cataloge/FilterBlock.js\";\nimport { ItemsContext } from \"/Users/Vlad/second-app/src/components/structure/Item/ItemsContextProvider.js\";\nimport { FiltersContext } from \"/Users/Vlad/second-app/src/components/Filter/FilterWork.js\";\nimport { SearchBlockContext } from \"/Users/Vlad/second-app/src/components/structure/navigation-bar/SearchBlockContextProvider.js\";\n\nconst Catalog = () => {\n    const [animalsData] = useContext(ItemsContext);\n    const [filtersData] = useContext(FiltersContext);\n    const [searchBlockText] = useContext(SearchBlockContext);\n    const [animalsToShow, setAnimalsToShow] = useState(animalsData);\n\n    const priceFilterCases = [\n        [0, 100],\n        [101, 1000],\n        [1001, 10000],\n        [10001, 1000000],\n    ];\n\n\n    const applyFilters = () => {\n        setAnimalsToShow(animalsData);\n        let filtered = [...animalsData];\n        if (filtersData.PRICE_FILTER !== -1) {\n            const [minVal, maxVal] = priceFilterCases[filtersData.PRICE_FILTER];\n            filtered = filtered.filter(\n                (animal) => animal.price >= minVal && animal.price <= maxVal\n            );\n        }\n        setAnimalsToShow(filtered);\n    };\n\n    const discardFilters = () => {\n        setAnimalsToShow(animalsData);\n    };\n\n    useEffect(() => {\n        setAnimalsToShow(animalsData);\n        applyFilters();\n        setAnimalsToShow(currAnimal => (currAnimal.filter(animal => animal.animalTitle.includes(searchBlockText))))\n    }, [searchBlockText]);\n\n    return (\n        <>\n            <Box sx={{ ...centeredContainer, pt: 1, bgcolor: \"#75CE9F\" }}>\n                <Typography variant=\"h5\" mb=\"5px\">\n                    Filters\n                </Typography>\n                <Grid container sx={{ mb: 5 }}>\n                    <FilterBlock\n                        applyFilters={applyFilters}\n                        discardFilters={discardFilters}\n                    />\n                </Grid>\n                <Typography variant=\"h5\" mb=\"10px\">\n                    Catalog\n                </Typography>\n                <Grid container spacing={4} sx={{ justifyContent: \"left\" }}>\n                    {animalsToShow.map((record, id) => (\n                        <Grid item key={record.animalTitle + id}>\n                            <AnimalCard\n                                imgSrc={record.imgSrc}\n                                imgAlt={record.imgSrc}\n                                animalTitle={record.animalTitle}\n                                description={record.description}\n                                price={record.price}\n                            />\n                        </Grid>\n                    ))}\n                </Grid>\n            </Box>\n        </>\n    );\n};\n\nexport default Catalog;"],"mappings":"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"},"metadata":{},"sourceType":"module"}