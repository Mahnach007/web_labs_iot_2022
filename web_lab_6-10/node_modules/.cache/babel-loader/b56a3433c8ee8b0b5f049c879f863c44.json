{"ast":null,"code":"var _jsxFileName = \"/Users/Vlad/second-app/src/components/structure/Cataloge/CatalogePage.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState, useEffect } from \"react\";\nimport Box from \"@mui/system/Box\";\nimport Grid from \"@mui/material/Grid\";\nimport AnimalCard from \"/Users/Vlad/second-app/src/components/reusable/AnimalCard.js\";\nimport { centeredContainer } from \"/Users/Vlad/second-app/src/components/styles.js\";\nimport Typography from \"@mui/material/Typography\";\nimport { FilterBlock } from \"/Users/Vlad/second-app/src/components/structure/Cataloge/FilterBlock.js\";\nimport { ItemsContext } from \"/Users/Vlad/second-app/src/components/structure/Item/ItemsContextProvider.js\";\nimport { FiltersContext } from \"/Users/Vlad/second-app/src/components/Filter/FilterWork.js\";\nimport { SearchBlockContext } from \"/Users/Vlad/second-app/src/components/structure/navigation-bar/SearchBlockContextProvider.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Catalog = () => {\n  _s();\n  const [filmsData, setFilmsData] = useContext(ItemsContext);\n  const [filtersData, setFiltersData] = useContext(FiltersContext);\n  const [searchBlockText, setSearchBlockText] = useContext(SearchBlockContext);\n  const [filmsToShow, setFilmsToShow] = useState(filmsData);\n  const priceFilterCases = [[0, 100], [101, 1000], [1001, 10000], [10001, 1000000]];\n  const reviewsFilterCases = [[0, 100], [101, 1000], [1001, 10000], [10001, 1000000]];\n  const lengthFilterCases = [[0, 60], [61, 120], [121, 180], [180, 1200]];\n  const applyFilters = () => {\n    setFilmsToShow(filmsData);\n    let filtered = [...filmsData];\n    if (filtersData.PRICE_FILTER !== -1) {\n      const [minVal, maxVal] = priceFilterCases[filtersData.PRICE_FILTER];\n      filtered = filtered.filter(film => film.price >= minVal && film.price <= maxVal);\n    }\n    if (filtersData.REVIEWS_FILTER !== -1) {\n      const [minVal, maxVal] = reviewsFilterCases[filtersData.REVIEWS_FILTER];\n      filtered = filtered.filter(film => film.reviewsAmount >= minVal && film.reviewsAmount <= maxVal);\n    }\n    if (filtersData.LENGTH_FILTER !== -1) {\n      const [minVal, maxVal] = lengthFilterCases[filtersData.LENGTH_FILTER];\n      filtered = filtered.filter(film => film.lengthOfFilm >= minVal && film.lengthOfFilm <= maxVal);\n    }\n    setFilmsToShow(filtered);\n  };\n  const discardFilters = () => {\n    setFilmsToShow(filmsData);\n  };\n  useEffect(() => {\n    setFilmsToShow(filmsData);\n    applyFilters();\n    setFilmsToShow(currFilms => currFilms.filter(film => film.filmTitle.includes(searchBlockText)));\n  }, [searchBlockText]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        ...centeredContainer,\n        pt: 1\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        mb: \"5px\",\n        children: \"Filters\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        sx: {\n          mb: 5\n        },\n        children: /*#__PURE__*/_jsxDEV(FilterBlock, {\n          applyFilters: applyFilters,\n          discardFilters: discardFilters\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        mb: \"10px\",\n        children: \"Catalog\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 4,\n        sx: {\n          justifyContent: \"left\"\n        },\n        children: filmsToShow.map((record, id) => /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          children: /*#__PURE__*/_jsxDEV(AnimalCard, {\n            imgSrc: record.imgSrc,\n            imgAlt: record.imgSrc,\n            filmTitle: record.filmTitle,\n            description: record.description,\n            price: record.price\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 29\n          }, this)\n        }, record.filmTitle + id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n_s(Catalog, \"oPIKfnB28AWixtDewo0EPzrgTOw=\");\n_c = Catalog;\nexport default Catalog;\nvar _c;\n$RefreshReg$(_c, \"Catalog\");","map":{"version":3,"names":["React","useContext","useState","useEffect","Box","Grid","AnimalCard","centeredContainer","Typography","FilterBlock","ItemsContext","FiltersContext","SearchBlockContext","Catalog","filmsData","setFilmsData","filtersData","setFiltersData","searchBlockText","setSearchBlockText","filmsToShow","setFilmsToShow","priceFilterCases","reviewsFilterCases","lengthFilterCases","applyFilters","filtered","PRICE_FILTER","minVal","maxVal","filter","film","price","REVIEWS_FILTER","reviewsAmount","LENGTH_FILTER","lengthOfFilm","discardFilters","currFilms","filmTitle","includes","pt","mb","justifyContent","map","record","id","imgSrc","description"],"sources":["/Users/Vlad/second-app/src/components/structure/Cataloge/CatalogePage.js"],"sourcesContent":["import React, { useContext, useState, useEffect } from \"react\";\nimport Box from \"@mui/system/Box\";\nimport Grid from \"@mui/material/Grid\";\nimport AnimalCard from \"/Users/Vlad/second-app/src/components/reusable/AnimalCard.js\";\nimport { centeredContainer } from \"/Users/Vlad/second-app/src/components/styles.js\";\nimport Typography from \"@mui/material/Typography\";\nimport { FilterBlock } from \"/Users/Vlad/second-app/src/components/structure/Cataloge/FilterBlock.js\";\nimport { ItemsContext } from \"/Users/Vlad/second-app/src/components/structure/Item/ItemsContextProvider.js\";\nimport { FiltersContext } from \"/Users/Vlad/second-app/src/components/Filter/FilterWork.js\";\nimport { SearchBlockContext } from \"/Users/Vlad/second-app/src/components/structure/navigation-bar/SearchBlockContextProvider.js\";\n\nconst Catalog = () => {\n    const [filmsData, setFilmsData] = useContext(ItemsContext);\n    const [filtersData, setFiltersData] = useContext(FiltersContext);\n    const [searchBlockText, setSearchBlockText] = useContext(SearchBlockContext);\n    const [filmsToShow, setFilmsToShow] = useState(filmsData);\n\n    const priceFilterCases = [\n        [0, 100],\n        [101, 1000],\n        [1001, 10000],\n        [10001, 1000000],\n    ];\n\n    const reviewsFilterCases = [\n        [0, 100],\n        [101, 1000],\n        [1001, 10000],\n        [10001, 1000000],\n    ];\n\n    const lengthFilterCases = [\n        [0, 60],\n        [61, 120],\n        [121, 180],\n        [180, 1200],\n    ];\n\n    const applyFilters = () => {\n        setFilmsToShow(filmsData);\n        let filtered = [...filmsData];\n        if (filtersData.PRICE_FILTER !== -1) {\n            const [minVal, maxVal] = priceFilterCases[filtersData.PRICE_FILTER];\n            filtered = filtered.filter(\n                (film) => film.price >= minVal && film.price <= maxVal\n            );\n        }\n        if (filtersData.REVIEWS_FILTER !== -1) {\n            const [minVal, maxVal] = reviewsFilterCases[filtersData.REVIEWS_FILTER];\n            filtered = filtered.filter(\n                (film) => film.reviewsAmount >= minVal && film.reviewsAmount <= maxVal\n            );\n        }\n        if (filtersData.LENGTH_FILTER !== -1) {\n            const [minVal, maxVal] = lengthFilterCases[filtersData.LENGTH_FILTER];\n            filtered = filtered.filter(\n                (film) => film.lengthOfFilm >= minVal && film.lengthOfFilm <= maxVal\n            );\n        }\n        setFilmsToShow(filtered);\n    };\n\n    const discardFilters = () => {\n        setFilmsToShow(filmsData);\n    };\n\n    useEffect(() => {\n        setFilmsToShow(filmsData);\n        applyFilters();\n        setFilmsToShow(currFilms => (currFilms.filter(film => film.filmTitle.includes(searchBlockText))))\n    }, [searchBlockText]);\n\n    return (\n        <>\n            <Box sx={{ ...centeredContainer, pt: 1 }}>\n                <Typography variant=\"h5\" mb=\"5px\">\n                    Filters\n                </Typography>\n                <Grid container sx={{ mb: 5 }}>\n                    <FilterBlock\n                        applyFilters={applyFilters}\n                        discardFilters={discardFilters}\n                    />\n                </Grid>\n                <Typography variant=\"h5\" mb=\"10px\">\n                    Catalog\n                </Typography>\n                <Grid container spacing={4} sx={{ justifyContent: \"left\" }}>\n                    {filmsToShow.map((record, id) => (\n                        <Grid item key={record.filmTitle + id}>\n                            <AnimalCard\n                                imgSrc={record.imgSrc}\n                                imgAlt={record.imgSrc}\n                                filmTitle={record.filmTitle}\n                                description={record.description}\n                                price={record.price}\n                            />\n                        </Grid>\n                    ))}\n                </Grid>\n            </Box>\n        </>\n    );\n};\n\nexport default Catalog;"],"mappings":"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"},"metadata":{},"sourceType":"module"}